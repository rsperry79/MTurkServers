!function(e){function t(t){for(var a,i,s=t[0],l=t[1],c=t[2],u=0,m=[];u<s.length;u++)i=s[u],o[i]&&m.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(d&&d(t);m.length;)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={1:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;r.push([29,0]),n()}({29:function(e,t,n){"use strict";n.r(t);var a=n(28),o=n.n(a),r=n(0),i=n.n(r),s=n(27),l=n(7),c=n(67),d=n(69),u=n(68),m=n(9),p=n(13),h=n.n(p),w=n(3),f=n.n(w),g=function(){function e(e){void 0===e&&(e=0),this.id="",this.query="",this.passageA="",this.passageB="",this.comment="",this.index=0,this.index=e,this.loadHitData()}return Object.defineProperty(e.prototype,"Index",{get:function(){return this.index},set:function(e){this.index=e,this.loadHitData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Comment",{get:function(){return this.comment},set:function(e){this.comment=e,window.HitData[this.index].Comment=this.comment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rating",{get:function(){return this.rating},set:function(e){this.rating=e,window.HitData[this.index].Rating=this.rating},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Time",{get:function(){return null==this.time?0:this.time},set:function(e){e&&(this.time=e,window.HitData[this.index].Time=this.time)},enumerable:!0,configurable:!0}),e.prototype.loadHitData=function(){window.HitData&&window.HitData[0]&&(this.id=window.HitData[this.index].id,this.query=window.HitData[this.index].query,this.passageA=window.HitData[this.index].passageA,this.passageB=window.HitData[this.index].passageB,window.HitData[this.index].Rating&&(this.Rating=window.HitData[this.index].Rating),window.HitData[this.index].Comment?this.Comment=window.HitData[this.index].Comment:this.Comment="")},e}(),b=(n(33),function(e){return i.a.createElement("div",{id:"CommentBlock",className:"comment-block row"},i.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm12"},i.a.createElement("label",null,"Comments on the hit itself (optional):"),i.a.createElement("input",{id:"HitappComments",name:"HitappComments",className:"form-control",type:"text",spellCheck:!0,placeholder:"Enter comments if needed.",onChange:e.OnChange(event)})))});b.defaultProps={Label:"Question to be answered:",Query:"query",OnChange:function(e){void 0===window.HitAppComment&&(window.HitAppComment=""),window.HitAppComment=String(e.target.value)}};var v=b,y=function(e){return i.a.createElement("div",{className:"display-block"},i.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm12"},i.a.createElement("label",{id:"answerLabel"+e.passageNumber},"Answer ",e.passageNumber,":")),i.a.createElement("div",{id:"passage"+e.passageNumber,className:"passage-text col-lg-8 col-md-12 col-sm12"},e.passage),i.a.createElement("div",{className:"col-lg-4 col-md-12 col-sm12"}),i.a.createElement("br",null))};y.defaultProps={passage:"passage",passageNumber:1};var E=y,_=function(e){return i.a.createElement("div",{id:"question",className:"display-block"},i.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm12"}," ",i.a.createElement("label",null,e.label)," "),i.a.createElement("div",{id:"query",className:"query-text  col-lg-8 col-md-12 col-sm12"},e.query),i.a.createElement("div",{className:"col-lg-4 col-md-12 col-sm12"}),i.a.createElement("br",null))};_.defaultProps={label:"Question to be answered:",query:"query"};var N,x=_,C=(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(e){function t(t){return e.call(this,t)||this}return C(t,e),t.prototype.render=function(){return r.createElement("div",null,r.createElement(x,{query:this.props.query}),r.createElement(E,{passage:this.props.passageA,passageNumber:1}),r.createElement(E,{passage:this.props.passageB,passageNumber:2}))},t}(r.Component),I=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),S=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selectedOption:window.Model.Rating,answerOptions:["Missing Answer","Different","Same"],Comments:""},n.handleOptionChange=n.handleOptionChange.bind(n),n.updateInputValue=n.updateInputValue.bind(n),n}return I(t,e),t.prototype.render=function(){return r.createElement("div",{id:"workActionItem"+this.props.id},this.LoadRating())},t.prototype.handleOptionChange=function(e){var t=this.props.UpdateRating;this.setState({selectedOption:e.target.id}),"2"===e.currentTarget.id&&t(2),"1"===e.currentTarget.id&&t(1),"0"===e.currentTarget.id&&t(0)},t.prototype.updateInputValue=function(e){var t=this.props.UpdateComment,n=String(e.target.value);this.setState({Comments:n}),t(n)},t.prototype.LoadRating=function(){return r.createElement("div",{className:"display-block"},r.createElement("div",{className:"col-lg-12"},r.createElement("br",null),r.createElement("label",null,"Do the two passages provide the same answer to the question and they are not copies of each other?"),r.createElement("br",null)),r.createElement("div",{className:"col-lg-12 radioPad"},r.createElement("form",null,r.createElement("div",{className:"row "},r.createElement("div",{className:"col-lg-3"},r.createElement("label",{className:2===window.Model.Rating?"radioPad_wrapper_good radioPad__wrapper_sel_good":"radioPad_wrapper_good"},r.createElement("input",{className:"radioPad__radio",type:"radio",name:"GivenAnswer",id:"2",value:this.state.answerOptions[2],onChange:this.handleOptionChange,onClick:this.handleOptionChange}),this.state.answerOptions[2])),r.createElement("span",{className:"explanation-text"},"Both passages provide an answer to the question. The answers from the two passages are consistent.")),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-lg-3"},r.createElement("label",{className:1===window.Model.Rating?"radioPad_wrapper_bad radioPad__wrapper_sel_bad":"radioPad_wrapper_bad"},r.createElement("input",{className:"radioPad__radio",type:"radio",name:"GivenAnswer",id:"1",value:this.state.answerOptions[1],onChange:this.handleOptionChange,onClick:this.handleOptionChange}),this.state.answerOptions[1])),r.createElement("span",{className:"explanation-text"},"Both passages provide an answer to the questions, but the answers are different.")),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-lg-3"},r.createElement("label",{className:0===window.Model.Rating?"radioPad_wrapper_dup radioPad__wrapper_sel_dup":"radioPad_wrapper_dup"},r.createElement("input",{className:"radioPad__radio",type:"radio",name:"GivenAnswer",id:"0",value:this.state.answerOptions[0],onChange:this.handleOptionChange,onClick:this.handleOptionChange}),this.state.answerOptions[0])),r.createElement("span",{className:"explanation-text"},"At least one of the passages does not answer the questions")))),r.createElement("br",null),r.createElement("br",null),r.createElement("div",null,r.createElement("div",{className:"row"},r.createElement("div",{className:"col-lg-12"},r.createElement("label",null,"Comments for this problem:"),r.createElement("input",{id:"comment"+this.props.id,name:"comment",className:"form-control",type:"text",spellCheck:!0,value:window.Model.Comment,onChange:this.updateInputValue})))),r.createElement("br",null))},t}(r.Component),k=function(e){return i.a.createElement("div",{className:"col-lg-10"},i.a.createElement("div",{className:"progress"},i.a.createElement("div",{id:"progress",className:"progress-bar progress-bar-success",role:"progressbar","aria-valuenow":e.value,"aria-valuemin":0,"aria-valuemax":e.max,style:{width:e.width}},e.value,"%")))};k.defaultProps={max:100,value:0};var M=k,P=function(e){return i.a.createElement("div",null,i.a.createElement("div",{id:"CommentBlock",className:"comment-block"},i.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm12"},i.a.createElement("form",{id:"mturk_form",method:"post",action:e.SubmitUrl+"externalSubmit"},i.a.createElement("input",{type:"hidden",name:"user_id",id:"user_id"}),i.a.createElement("input",{type:"hidden",name:"assignmentId",defaultValue:e.AssignmentId}),i.a.createElement("button",{className:"btn btn-success",type:"submit",value:"Submit",onClick:function(t){e.Submit()}}," Finish and Submit HIT ")))))},R=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),D=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};window.jQuery=f.a,window.$=f.a;var H=function(e){function t(t){var n=e.call(this,t)||this;return n.state={Request:n.props,currentIndex:0,model:new g,percentage:0,showButton:!0,showSubmit:!1,showWork:!0,time:new Date,width:"0%"},window.Model=n.state.model,window.MTurkRequest=n.props,window.Model.UpdateComment=n.UpdateComment,window.Model.UpdateRating=n.UpdateRating,n.instructions(),f()(document).ready(function(){n.state.Request.RecordId&&(window.Model.Index=0,n.setState({model:window.Model}),window.HitData||(window.HitData=new Array),f()("#submitButton").hide(),f()("#NextButton").prop("disabled",!0))}),n.NextItem=n.NextItem.bind(n),n}return R(t,e),t.prototype.NextItem=function(){try{if(window.HitData.length>=window.Model.Index){window.HitData.length-window.Model.Index==1&&(this.setState({showWork:!1}),this.setState({showSubmit:!0}),f()("#submitButton").show(),f()("#submitButton").prop("disabled",!1));var e=new Date;window.Model.Time=(e.getTime()-this.state.time.getTime())/1e3,this.setState({time:e}),window.Model.Index=window.Model.Index+1,this.setState({model:window.Model}),this.setState({percentage:window.Model.Index/window.HitData.length*100}),this.setState({width:window.Model.Index/window.HitData.length*100+"%"}),f()("#NextButton").prop("disabled",!0),window.Model.Rating=-1}}catch(e){}},t.prototype.UpdateRating=function(e){var t=window.Model;t.Rating=e,window.Model=t,f()("#NextButton").prop("disabled",!1)},t.prototype.UpdateComment=function(e){var t=window.Model;t.Comment=e,window.Model=t},t.prototype.render=function(){return i.a.createElement("div",null,this.state.showWork?i.a.createElement(O,D({},this.state.model)):null,this.state.showWork?i.a.createElement(S,D({},this.state.model)):null,this.state.showWork?i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:" row col-lg-2"},i.a.createElement("button",{id:"NextButton",type:"button",className:"btn btn-block btn-primary next-button",onClick:this.NextItem},"Next")),i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("br",null)),i.a.createElement(M,{value:this.state.percentage,width:this.state.width})):null,this.state.showSubmit?i.a.createElement(v,null):null,this.state.showSubmit?i.a.createElement(P,{SubmitUrl:this.props.TurkSubmitTo,AssignmentId:this.props.AssignmentId,Submit:this.RecordData}):null)},t.prototype.componentDidMount=function(){var e=this,t="https://vesaliusdata.azurewebsites.net/api/Hit/"+this.state.Request.RecordId;h.a.get(t).then(function(t){for(var n=0;n<t.data.length;n++){var a=t.data[n],o=JSON.parse(a.hitItemData),r={Comment:"",HitItemId:a.hitItemId,Rating:-99,Time:0,id:o[0].Value,passageA:o[2].Value,passageB:o[3].Value,query:o[1].Value};window.HitData&&window.HitData.push(r)}window.Model.Index=0,e.setState({model:window.Model})})},t.prototype.RecordData=function(){var e={ResultItems:new Array,RecordId:window.MTurkRequest.RecordId,WorkerId:window.MTurkRequest.WorkerId,ExternalAssignmentId:window.MTurkRequest.AssignmentId,HitAppComments:window.HitAppComment,SubmitTime:new Date};window.HitData.forEach(function(t){var n=new Array,a={Name:"Rating",Value:t.Rating.toString()};n.push(a);var o={ResultItemData:JSON.stringify(n),TimeToCompleteItemInSeconds:t.Time,Comment:t.Comment};e.ResultItems.push(o)}),h.a.post("https://vesaliusdata.azurewebsites.net/api/results",e).then(function(e){console.log(e)})},t.prototype.instructions=function(){var e=f()("#instructionBody"),t=f()("#collapseTrigger");e.hide(),f()(".collapse-text").text("(Click to expand)"),t.click(function(){e.toggle(),e.is(":visible")?f()(".collapse-text").text("(Click to collapse)"):f()(".collapse-text").text("(Click to expand)")})},t}(i.a.Component),A="INCREMENT_ENTHUSIASM",T="DECREMENT_ENTHUSIASM";n(31);var j=Object(l.b)(function(e){return{enthusiasmLevel:e.enthusiasmLevel,name:e.languageName}},function(e){return{onDecrement:function(){return e({type:T})},onIncrement:function(){return e({type:A})}}})(function(e){var t=e.name,n=e.enthusiasmLevel,a=void 0===n?1:n,o=e.onIncrement,i=e.onDecrement;if(a<=0)throw new Error("You could be a little more enthusiastic. :D");return r.createElement("div",{className:"hello"},r.createElement("div",{className:"greeting"},"Hello ",t+Array(a+1).join("!")),r.createElement("div",null,r.createElement("button",{onClick:i},"-"),r.createElement("button",{onClick:o},"+")))}),q=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function B(e,t){switch(t.type){case A:return q({},e,{enthusiasmLevel:e.enthusiasmLevel+1});case T:return q({},e,{enthusiasmLevel:Math.max(1,e.enthusiasmLevel-1)})}return e}var L=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),U=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pathName=location.pathname.substr(1),t.parsed=o.a.parse(location.search),t.store=Object(m.b)(B,{enthusiasmLevel:1,languageName:"TypeScript"}),t.request={AssignmentId:t.parsed.assignmentId,HitId:t.parsed.hitId,PathName:t.pathName,RecordId:t.parsed.RecordId,TurkSubmitTo:t.parsed.turkSubmitTo,WorkerId:t.parsed.workerId},t}return L(t,e),t.prototype.render=function(){var e=this;return r.createElement(l.a,{store:this.store},r.createElement(d.a,null,r.createElement("div",null,r.createElement(u.a,null,r.createElement(c.a,{exact:!0,path:"/",component:j}),r.createElement(c.a,{path:"/MultiPassage",render:function(){return r.createElement(H,U({},e.request))}})))))},t}(r.Component);t.default=V,s.render(r.createElement(V,null),document.getElementById("main"))},31:function(e,t,n){},33:function(e,t,n){}});